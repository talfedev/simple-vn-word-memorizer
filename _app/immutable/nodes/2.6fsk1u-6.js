import{i as le,f as Xt,s as ne,r as oe,c as ae,h as re,j as Yt,d as Zt}from"../chunks/scheduler.BMIAZVXK.js";import{S as ce,i as ie,e as a,t as ot,s as p,c as r,a as L,b as at,d as C,f as b,m as T,n as _,g as z,h as e,o as $t,p as I,j as Pt,k as Vt,l as te,r as ue,B as fe,C as de,v as he}from"../chunks/index.Bn6_9q_L.js";import{W as ve,s as dt,a as ee,w as Ft}from"../chunks/stores.CQMR2IcG.js";import{b as pe}from"../chunks/paths.ClzA26pg.js";function be(o){const s=o-1;return s*s*s+1}function _e(o,{delay:s=0,duration:l=400,easing:c=le}={}){const n=+getComputedStyle(o).opacity;return{delay:s,duration:l,easing:c,css:i=>`opacity: ${i*n}`}}function ge(o,{delay:s=0,duration:l=400,easing:c=be,x:n=0,y:i=0,opacity:d=0}={}){const v=getComputedStyle(o),B=+v.opacity,u=v.transform==="none"?"":v.transform,w=B*(1-d),[G,E]=Xt(n),[g,x]=Xt(i);return{delay:s,duration:l,easing:c,css:(F,J)=>`
			transform: ${u} translate(${(1-F)*G}${E}, ${(1-F)*g}${x});
			opacity: ${B-w*J}`}}function me(o){let s,l=o[5].deck[o[5].current].vn+"",c;return{c(){s=a("h2"),c=ot(l),this.h()},l(n){s=r(n,"H2",{class:!0});var i=L(s);c=at(i,l),i.forEach(C),this.h()},h(){_(s,"class","word svelte-uf6gbv")},m(n,i){z(n,s,i),e(s,c)},p(n,i){i&32&&l!==(l=n[5].deck[n[5].current].vn+"")&&Pt(c,l)},d(n){n&&C(s)}}}function Ce(o){let s,l=o[5].deck[o[5].current].en+"",c;return{c(){s=a("h2"),c=ot(l),this.h()},l(n){s=r(n,"H2",{class:!0});var i=L(s);c=at(i,l),i.forEach(C),this.h()},h(){_(s,"class","word svelte-uf6gbv")},m(n,i){z(n,s,i),e(s,c)},p(n,i){i&32&&l!==(l=n[5].deck[n[5].current].en+"")&&Pt(c,l)},d(n){n&&C(s)}}}function se(o){let s,l="copied data!",c,n,i;return{c(){s=a("p"),s.textContent=l,this.h()},l(d){s=r(d,"P",{class:!0,"data-svelte-h":!0}),T(s)!=="svelte-12f7als"&&(s.textContent=l),this.h()},h(){_(s,"class","copy-message svelte-uf6gbv")},m(d,v){z(d,s,v),i=!0},i(d){i||(d&&re(()=>{i&&(n&&n.end(1),c=fe(s,ge,{y:20,opacity:0,duration:600}),c.start())}),i=!0)},o(d){c&&c.invalidate(),d&&(n=de(s,_e,{})),i=!1},d(d){d&&C(s),d&&n&&n.end()}}}function ke(o){let s,l,c,n,i,d,v,B="Save / Load",u,w,G="Manage words",E,g,x,F,J,tt,et,st,N,rt="Got it",lt,R,ct="Failed",Q,t,U,k,D="Save:",M,P,j,jt="Copy to clipboard",ht,A,At="Download as text file",vt,pt,bt,_t,X,Wt="Load:",gt,mt,Ct,Y,Ht="Upload words-list text file:",kt,yt,wt,K,xt,Tt,Bt,Ut,Ot,It,Lt,V,Z,qt="Paste your list's JSON string:",Nt,W,Rt,H,zt="Load data",St,nt,q,Gt="Close",Et,Jt;function Mt(h,y){return h[5].face==="en"?Ce:me}let it=Mt(o),O=it(o),m=o[1]&&se();return{c(){s=a("div"),l=a("button"),c=ot("Language: "),n=ot(o[0]),i=p(),d=a("div"),v=a("button"),v.textContent=B,u=p(),w=a("a"),w.textContent=G,E=p(),g=a("div"),x=a("button"),O.c(),F=p(),J=a("br"),tt=p(),et=a("br"),st=p(),N=a("button"),N.textContent=rt,lt=p(),R=a("button"),R.textContent=ct,Q=p(),t=a("dialog"),m&&m.c(),U=p(),k=a("h3"),k.textContent=D,M=p(),P=a("div"),j=a("button"),j.textContent=jt,ht=p(),A=a("button"),A.textContent=At,vt=p(),pt=a("br"),bt=a("br"),_t=p(),X=a("h3"),X.textContent=Wt,gt=p(),mt=a("br"),Ct=p(),Y=a("p"),Y.textContent=Ht,kt=p(),yt=a("br"),wt=p(),K=a("input"),xt=p(),Tt=a("br"),Bt=a("br"),Ut=ot("- or -"),Ot=a("br"),It=a("br"),Lt=p(),V=a("div"),Z=a("p"),Z.textContent=qt,Nt=p(),W=a("input"),Rt=p(),H=a("button"),H.textContent=zt,St=p(),nt=a("div"),q=a("button"),q.textContent=Gt,this.h()},l(h){s=r(h,"DIV",{class:!0});var y=L(s);l=r(y,"BUTTON",{class:!0});var Dt=L(l);c=at(Dt,"Language: "),n=at(Dt,o[0]),Dt.forEach(C),i=b(y),d=r(y,"DIV",{});var ut=L(d);v=r(ut,"BUTTON",{class:!0,"data-svelte-h":!0}),T(v)!=="svelte-10ahad2"&&(v.textContent=B),u=b(ut),w=r(ut,"A",{href:!0,class:!0,"data-svelte-h":!0}),T(w)!=="svelte-173cnon"&&(w.textContent=G),ut.forEach(C),y.forEach(C),E=b(h),g=r(h,"DIV",{class:!0});var S=L(g);x=r(S,"BUTTON",{type:!0,class:!0});var Kt=L(x);O.l(Kt),Kt.forEach(C),F=b(S),J=r(S,"BR",{}),tt=b(S),et=r(S,"BR",{}),st=b(S),N=r(S,"BUTTON",{class:!0,"data-svelte-h":!0}),T(N)!=="svelte-1wfeemp"&&(N.textContent=rt),lt=b(S),R=r(S,"BUTTON",{class:!0,"data-svelte-h":!0}),T(R)!=="svelte-1q7h6b1"&&(R.textContent=ct),S.forEach(C),Q=b(h),t=r(h,"DIALOG",{class:!0});var f=L(t);m&&m.l(f),U=b(f),k=r(f,"H3",{"data-svelte-h":!0}),T(k)!=="svelte-1shhqg9"&&(k.textContent=D),M=b(f),P=r(f,"DIV",{class:!0});var ft=L(P);j=r(ft,"BUTTON",{class:!0,"data-svelte-h":!0}),T(j)!=="svelte-1dwz792"&&(j.textContent=jt),ht=b(ft),A=r(ft,"BUTTON",{class:!0,"data-svelte-h":!0}),T(A)!=="svelte-zpw3a9"&&(A.textContent=At),ft.forEach(C),vt=b(f),pt=r(f,"BR",{}),bt=r(f,"BR",{}),_t=b(f),X=r(f,"H3",{"data-svelte-h":!0}),T(X)!=="svelte-2tkhz4"&&(X.textContent=Wt),gt=b(f),mt=r(f,"BR",{}),Ct=b(f),Y=r(f,"P",{"data-svelte-h":!0}),T(Y)!=="svelte-1mx1rcy"&&(Y.textContent=Ht),kt=b(f),yt=r(f,"BR",{}),wt=b(f),K=r(f,"INPUT",{type:!0,accept:!0}),xt=b(f),Tt=r(f,"BR",{}),Bt=r(f,"BR",{}),Ut=at(f,"- or -"),Ot=r(f,"BR",{}),It=r(f,"BR",{}),Lt=b(f),V=r(f,"DIV",{});var $=L(V);Z=r($,"P",{"data-svelte-h":!0}),T(Z)!=="svelte-1un27g1"&&(Z.textContent=qt),Nt=b($),W=r($,"INPUT",{type:!0}),Rt=b($),H=r($,"BUTTON",{class:!0,"data-svelte-h":!0}),T(H)!=="svelte-106ahud"&&(H.textContent=zt),$.forEach(C),St=b(f),nt=r(f,"DIV",{});var Qt=L(nt);q=r(Qt,"BUTTON",{class:!0,"data-svelte-h":!0}),T(q)!=="svelte-1i178l4"&&(q.textContent=Gt),Qt.forEach(C),f.forEach(C),this.h()},h(){_(l,"class","svelte-uf6gbv"),_(v,"class","svelte-uf6gbv"),_(w,"href",pe+"/manage-words"),_(w,"class","svelte-uf6gbv"),_(s,"class","header svelte-uf6gbv"),_(x,"type","button"),_(x,"class","current-word svelte-uf6gbv"),_(N,"class","success svelte-uf6gbv"),_(R,"class","failure svelte-uf6gbv"),_(g,"class","container svelte-uf6gbv"),_(j,"class","svelte-uf6gbv"),_(A,"class","svelte-uf6gbv"),_(P,"class","save-list svelte-uf6gbv"),_(K,"type","file"),_(K,"accept",".txt"),_(W,"type","text"),_(H,"class","svelte-uf6gbv"),_(q,"class","svelte-uf6gbv"),_(t,"class","svelte-uf6gbv")},m(h,y){z(h,s,y),e(s,l),e(l,c),e(l,n),e(s,i),e(s,d),e(d,v),e(d,u),e(d,w),z(h,E,y),z(h,g,y),e(g,x),O.m(x,null),e(g,F),e(g,J),e(g,tt),e(g,et),e(g,st),e(g,N),e(g,lt),e(g,R),z(h,Q,y),z(h,t,y),m&&m.m(t,null),e(t,U),e(t,k),e(t,M),e(t,P),e(P,j),e(P,ht),e(P,A),e(t,vt),e(t,pt),e(t,bt),e(t,_t),e(t,X),e(t,gt),e(t,mt),e(t,Ct),e(t,Y),e(t,kt),e(t,yt),e(t,wt),e(t,K),o[18](K),e(t,xt),e(t,Tt),e(t,Bt),e(t,Ut),e(t,Ot),e(t,It),e(t,Lt),e(t,V),e(V,Z),e(V,Nt),e(V,W),$t(W,o[4]),e(V,Rt),e(V,H),e(t,St),e(t,nt),e(nt,q),o[21](t),Et||(Jt=[I(l,"click",o[13]),I(v,"click",o[14]),I(x,"click",o[15]),I(N,"click",o[16]),I(R,"click",o[17]),I(j,"click",o[9]),I(A,"click",o[10]),I(K,"change",o[11]),I(W,"input",o[19]),I(H,"click",o[12]),I(q,"click",o[20])],Et=!0)},p(h,[y]){y&1&&Pt(n,h[0]),it===(it=Mt(h))&&O?O.p(h,y):(O.d(1),O=it(h),O&&(O.c(),O.m(x,null))),h[1]?m?y&2&&Vt(m,1):(m=se(),m.c(),Vt(m,1),m.m(t,U)):m&&(he(),te(m,1,1,()=>{m=null}),ue()),y&16&&W.value!==h[4]&&$t(W,h[4])},i(h){Vt(m)},o(h){te(m)},d(h){h&&(C(s),C(E),C(g),C(Q),C(t)),O.d(),m&&m.d(),o[18](null),o[21](null),Et=!1,oe(Jt)}}}function ye(o,s,l){let c;ae(o,Ft,t=>l(22,c=t));let n="en",i=!1,d=null,v=null,B="",u={deck:c.length?[...c]:[new ve("empty list","add words")],current:0,face:"en",shuffle(){let t=this.deck.length,U,k;for(;t!==0;)k=Math.floor(Math.random()*t),t--,U=this.deck[t],this.deck[t]=this.deck[k],this.deck[k]=U;this.deck.sort((D,M)=>D.lvl-M.lvl),console.log(this.deck)},next(){this.current<this.deck.length-1?this.current+=1:(this.current=0,this.shuffle())},previous(){this.current>0?this.current-=1:this.current=this.deck.length-1},toggleFace(t="none"){if(t!=="none"){this.face=t;return}if(this.face==="en"){this.face="vn";return}if(this.face==="vn"){this.face="en";return}}};const w=()=>{u.deck[u.current].levelUp(),u.next(),u.toggleFace(n),l(5,u),dt(c)},G=()=>{u.deck[u.current].reset(),u.next(),u.toggleFace(n),l(5,u),dt(c)},E=()=>{u.toggleFace(),l(5,u)},g=()=>{const t=localStorage.getItem("appWords");t?(navigator.clipboard.writeText(t),l(1,i=!0),setTimeout(()=>{l(1,i=!1)},1e3)):console.log("There is no app data to copy")},x=()=>{const t=localStorage.getItem("appWords");if(t){const U=new Blob([t],{type:"text/plain"}),k=document.createElement("a"),D=URL.createObjectURL(U);k.href=D,k.setAttribute("download","en-vn-wordlist.txt"),k.style.display="none",document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(D)}else console.warn("won't download since there are no words in the list")},F=async()=>{const U=confirm(["This will replace your current word list and can't be reveresed",`

are you sure you wish to continue?`].join());if(d&&d.files&&U){const D=await d.files[0].text(),M=JSON.parse(D);dt(M)?(console.log("loaded succefuly"),Yt(Ft,c=ee(),c),l(5,u.deck=[...c],u),u.shuffle()):console.warn("couldn't save to localStorage")}},J=()=>{const t=JSON.parse(B);dt(t)?(console.log("loaded succefuly"),l(4,B=""),Yt(Ft,c=ee(),c),l(5,u.deck=[...c],u),u.shuffle()):console.warn("couldn't save to localStorage")},tt=()=>{if(n==="en"){l(0,n="vn"),u.face==="en"&&u.toggleFace();return}if(n==="vn"){l(0,n="en"),u.face==="vn"&&u.toggleFace();return}};u.shuffle();const et=()=>v==null?void 0:v.showModal(),st=()=>E(),N=()=>w(),rt=()=>G();function lt(t){Zt[t?"unshift":"push"](()=>{d=t,l(2,d)})}function R(){B=this.value,l(4,B)}const ct=()=>v==null?void 0:v.close();function Q(t){Zt[t?"unshift":"push"](()=>{v=t,l(3,v)})}return[n,i,d,v,B,u,w,G,E,g,x,F,J,tt,et,st,N,rt,lt,R,ct,Q]}class Ue extends ce{constructor(s){super(),ie(this,s,ye,ke,ne,{})}}export{Ue as component};
