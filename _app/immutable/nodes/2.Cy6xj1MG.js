import{i as ie,f as Yt,s as re,r as ce,c as ue,n as ae,h as fe,d as Zt,j as $t}from"../chunks/scheduler.BMIAZVXK.js";import{S as de,i as he,e as r,t as rt,s as b,c,a as E,b as ct,d as k,f as g,m as U,n as m,g as V,h as e,o as te,p as L,j as At,k as Pt,l as ee,r as pe,B as ve,C as _e,v as be}from"../chunks/index.Bn6_9q_L.js";import{W as ge,s as pt,w as jt,a as le}from"../chunks/stores.DdGJLZ-0.js";import{b as me}from"../chunks/paths.CDyohIUq.js";function ke(s){const t=s-1;return t*t*t+1}function Ce(s,{delay:t=0,duration:l=400,easing:a=ie}={}){const n=+getComputedStyle(s).opacity;return{delay:t,duration:l,easing:a,css:o=>`opacity: ${o*n}`}}function ye(s,{delay:t=0,duration:l=400,easing:a=ke,x:n=0,y:o=0,opacity:d=0}={}){const v=getComputedStyle(s),N=+v.opacity,u=v.transform==="none"?"":v.transform,O=N*(1-d),[J,P]=Yt(n),[_,I]=Yt(o);return{delay:t,duration:l,easing:a,css:(A,M)=>`
			transform: ${u} translate(${(1-A)*J}${P}, ${(1-A)*_}${I});
			opacity: ${N-O*M}`}}function we(s){let t,l=s[5].deck[s[5].current].vn+"",a;return{c(){t=r("h2"),a=rt(l),this.h()},l(n){t=c(n,"H2",{class:!0});var o=E(t);a=ct(o,l),o.forEach(k),this.h()},h(){m(t,"class","word svelte-1vinghi")},m(n,o){V(n,t,o),e(t,a)},p(n,o){o&32&&l!==(l=n[5].deck[n[5].current].vn+"")&&At(a,l)},d(n){n&&k(t)}}}function Te(s){let t,l=s[5].deck[s[5].current].en+"",a;return{c(){t=r("h2"),a=rt(l),this.h()},l(n){t=c(n,"H2",{class:!0});var o=E(t);a=ct(o,l),o.forEach(k),this.h()},h(){m(t,"class","word svelte-1vinghi")},m(n,o){V(n,t,o),e(t,a)},p(n,o){o&32&&l!==(l=n[5].deck[n[5].current].en+"")&&At(a,l)},d(n){n&&k(t)}}}function ne(s){let t,l="Got it",a,n;return{c(){t=r("button"),t.textContent=l,this.h()},l(o){t=c(o,"BUTTON",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-1e3l3ql"&&(t.textContent=l),this.h()},h(){m(t,"class","control-btn success svelte-1vinghi")},m(o,d){V(o,t,d),a||(n=L(t,"click",s[17]),a=!0)},p:ae,d(o){o&&k(t),a=!1,n()}}}function se(s){let t,l="Failed",a,n;return{c(){t=r("button"),t.textContent=l,this.h()},l(o){t=c(o,"BUTTON",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-1besi55"&&(t.textContent=l),this.h()},h(){m(t,"class","control-btn failure svelte-1vinghi")},m(o,d){V(o,t,d),a||(n=L(t,"click",s[19]),a=!0)},p:ae,d(o){o&&k(t),a=!1,n()}}}function oe(s){let t,l="copied data!",a,n,o;return{c(){t=r("p"),t.textContent=l,this.h()},l(d){t=c(d,"P",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-12f7als"&&(t.textContent=l),this.h()},h(){m(t,"class","copy-message svelte-1vinghi")},m(d,v){V(d,t,v),o=!0},i(d){o||(d&&fe(()=>{o&&(n&&n.end(1),a=ve(t,ye,{y:20,opacity:0,duration:600}),a.start())}),o=!0)},o(d){a&&a.invalidate(),d&&(n=_e(t,Ce,{})),o=!1},d(d){d&&k(t),d&&n&&n.end()}}}function xe(s){let t,l,a,n,o,d,v,N="Save / Load",u,O,J="Manage words",P,_,I,A,M,nt,st,ot,Q,D,ut="Skip",at,X,i,Y,W,p="Save:",F,C,B,Z="Copy to clipboard",vt,q,Wt="Download as text file",_t,bt,gt,mt,$,qt="Load:",kt,Ct,yt,tt,Ht="Upload words-list text file:",wt,Tt,xt,K,Bt,Ut,Ot,It,Nt,St,Lt,j,et,zt="Paste your list's JSON string:",Rt,H,Et,z,Gt="Load data",Dt,it,G,Jt="Close",Ft,Mt;function Kt(f,w){return f[5].face==="en"?Te:we}let ft=Kt(s),R=ft(s),T=s[5].face!==s[0]&&ne(s),x=s[5].face!==s[0]&&se(s),y=s[1]&&oe();return{c(){t=r("div"),l=r("button"),a=rt("Language: "),n=rt(s[0]),o=b(),d=r("div"),v=r("button"),v.textContent=N,u=b(),O=r("a"),O.textContent=J,P=b(),_=r("div"),I=r("button"),R.c(),A=b(),M=r("br"),nt=b(),st=r("br"),ot=b(),T&&T.c(),Q=b(),D=r("button"),D.textContent=ut,at=b(),x&&x.c(),X=b(),i=r("dialog"),y&&y.c(),Y=b(),W=r("h3"),W.textContent=p,F=b(),C=r("div"),B=r("button"),B.textContent=Z,vt=b(),q=r("button"),q.textContent=Wt,_t=b(),bt=r("br"),gt=r("br"),mt=b(),$=r("h3"),$.textContent=qt,kt=b(),Ct=r("br"),yt=b(),tt=r("p"),tt.textContent=Ht,wt=b(),Tt=r("br"),xt=b(),K=r("input"),Bt=b(),Ut=r("br"),Ot=r("br"),It=rt("- or -"),Nt=r("br"),St=r("br"),Lt=b(),j=r("div"),et=r("p"),et.textContent=zt,Rt=b(),H=r("input"),Et=b(),z=r("button"),z.textContent=Gt,Dt=b(),it=r("div"),G=r("button"),G.textContent=Jt,this.h()},l(f){t=c(f,"DIV",{class:!0});var w=E(t);l=c(w,"BUTTON",{class:!0});var Vt=E(l);a=ct(Vt,"Language: "),n=ct(Vt,s[0]),Vt.forEach(k),o=g(w),d=c(w,"DIV",{});var dt=E(d);v=c(dt,"BUTTON",{class:!0,"data-svelte-h":!0}),U(v)!=="svelte-10ahad2"&&(v.textContent=N),u=g(dt),O=c(dt,"A",{href:!0,class:!0,"data-svelte-h":!0}),U(O)!=="svelte-173cnon"&&(O.textContent=J),dt.forEach(k),w.forEach(k),P=g(f),_=c(f,"DIV",{class:!0});var S=E(_);I=c(S,"BUTTON",{type:!0,class:!0});var Qt=E(I);R.l(Qt),Qt.forEach(k),A=g(S),M=c(S,"BR",{}),nt=g(S),st=c(S,"BR",{}),ot=g(S),T&&T.l(S),Q=g(S),D=c(S,"BUTTON",{class:!0,"data-svelte-h":!0}),U(D)!=="svelte-o2qm31"&&(D.textContent=ut),at=g(S),x&&x.l(S),S.forEach(k),X=g(f),i=c(f,"DIALOG",{class:!0});var h=E(i);y&&y.l(h),Y=g(h),W=c(h,"H3",{"data-svelte-h":!0}),U(W)!=="svelte-1shhqg9"&&(W.textContent=p),F=g(h),C=c(h,"DIV",{class:!0});var ht=E(C);B=c(ht,"BUTTON",{class:!0,"data-svelte-h":!0}),U(B)!=="svelte-1dwz792"&&(B.textContent=Z),vt=g(ht),q=c(ht,"BUTTON",{class:!0,"data-svelte-h":!0}),U(q)!=="svelte-zpw3a9"&&(q.textContent=Wt),ht.forEach(k),_t=g(h),bt=c(h,"BR",{}),gt=c(h,"BR",{}),mt=g(h),$=c(h,"H3",{"data-svelte-h":!0}),U($)!=="svelte-2tkhz4"&&($.textContent=qt),kt=g(h),Ct=c(h,"BR",{}),yt=g(h),tt=c(h,"P",{"data-svelte-h":!0}),U(tt)!=="svelte-1mx1rcy"&&(tt.textContent=Ht),wt=g(h),Tt=c(h,"BR",{}),xt=g(h),K=c(h,"INPUT",{type:!0,accept:!0}),Bt=g(h),Ut=c(h,"BR",{}),Ot=c(h,"BR",{}),It=ct(h,"- or -"),Nt=c(h,"BR",{}),St=c(h,"BR",{}),Lt=g(h),j=c(h,"DIV",{});var lt=E(j);et=c(lt,"P",{"data-svelte-h":!0}),U(et)!=="svelte-1un27g1"&&(et.textContent=zt),Rt=g(lt),H=c(lt,"INPUT",{type:!0}),Et=g(lt),z=c(lt,"BUTTON",{class:!0,"data-svelte-h":!0}),U(z)!=="svelte-106ahud"&&(z.textContent=Gt),lt.forEach(k),Dt=g(h),it=c(h,"DIV",{});var Xt=E(it);G=c(Xt,"BUTTON",{class:!0,"data-svelte-h":!0}),U(G)!=="svelte-1i178l4"&&(G.textContent=Jt),Xt.forEach(k),h.forEach(k),this.h()},h(){m(l,"class","svelte-1vinghi"),m(v,"class","svelte-1vinghi"),m(O,"href",me+"/manage-words"),m(O,"class","svelte-1vinghi"),m(t,"class","header svelte-1vinghi"),m(I,"type","button"),m(I,"class","current-word svelte-1vinghi"),m(D,"class","control-btn skip svelte-1vinghi"),m(_,"class","container svelte-1vinghi"),m(B,"class","svelte-1vinghi"),m(q,"class","svelte-1vinghi"),m(C,"class","save-list svelte-1vinghi"),m(K,"type","file"),m(K,"accept",".txt"),m(H,"type","text"),m(z,"class","svelte-1vinghi"),m(G,"class","svelte-1vinghi"),m(i,"class","svelte-1vinghi")},m(f,w){V(f,t,w),e(t,l),e(l,a),e(l,n),e(t,o),e(t,d),e(d,v),e(d,u),e(d,O),V(f,P,w),V(f,_,w),e(_,I),R.m(I,null),e(_,A),e(_,M),e(_,nt),e(_,st),e(_,ot),T&&T.m(_,null),e(_,Q),e(_,D),e(_,at),x&&x.m(_,null),V(f,X,w),V(f,i,w),y&&y.m(i,null),e(i,Y),e(i,W),e(i,F),e(i,C),e(C,B),e(C,vt),e(C,q),e(i,_t),e(i,bt),e(i,gt),e(i,mt),e(i,$),e(i,kt),e(i,Ct),e(i,yt),e(i,tt),e(i,wt),e(i,Tt),e(i,xt),e(i,K),s[20](K),e(i,Bt),e(i,Ut),e(i,Ot),e(i,It),e(i,Nt),e(i,St),e(i,Lt),e(i,j),e(j,et),e(j,Rt),e(j,H),te(H,s[4]),e(j,Et),e(j,z),e(i,Dt),e(i,it),e(it,G),s[23](i),Ft||(Mt=[L(l,"click",s[14]),L(v,"click",s[15]),L(I,"click",s[16]),L(D,"click",s[18]),L(B,"click",s[10]),L(q,"click",s[11]),L(K,"change",s[12]),L(H,"input",s[21]),L(z,"click",s[13]),L(G,"click",s[22])],Ft=!0)},p(f,[w]){w&1&&At(n,f[0]),ft===(ft=Kt(f))&&R?R.p(f,w):(R.d(1),R=ft(f),R&&(R.c(),R.m(I,null))),f[5].face!==f[0]?T?T.p(f,w):(T=ne(f),T.c(),T.m(_,Q)):T&&(T.d(1),T=null),f[5].face!==f[0]?x?x.p(f,w):(x=se(f),x.c(),x.m(_,null)):x&&(x.d(1),x=null),f[1]?y?w&2&&Pt(y,1):(y=oe(),y.c(),Pt(y,1),y.m(i,Y)):y&&(be(),ee(y,1,1,()=>{y=null}),pe()),w&16&&H.value!==f[4]&&te(H,f[4])},i(f){Pt(y)},o(f){ee(y)},d(f){f&&(k(t),k(P),k(_),k(X),k(i)),R.d(),T&&T.d(),x&&x.d(),y&&y.d(),s[20](null),s[23](null),Ft=!1,ce(Mt)}}}function Be(s,t,l){let a;ue(s,jt,p=>l(24,a=p));let n="en",o=!1,d=null,v=null,N="",u={deck:a.length?[...a]:[new ge("empty list","add words")],current:0,face:n,shuffle(){let p=this.deck.length,F,C;for(;p!==0;)C=Math.floor(Math.random()*p),p--,F=this.deck[p],this.deck[p]=this.deck[C],this.deck[C]=F;this.deck.sort((B,Z)=>B.lvl-Z.lvl),console.log(this.deck)},next(){this.current<this.deck.length-1?this.current+=1:(this.current=0,this.shuffle())},previous(){this.current>0?this.current-=1:this.current=this.deck.length-1},toggleFace(p="none"){if(p!=="none"){this.face=p;return}if(this.face==="en"){this.face="vn";return}if(this.face==="vn"){this.face="en";return}}};const O=()=>{u.deck[u.current].levelUp(),u.next(),u.toggleFace(n),l(5,u),pt(a)},J=()=>{u.deck[u.current].reset(),u.next(),u.toggleFace(n),l(5,u),pt(a)},P=()=>{u.next(),u.toggleFace(n),l(5,u)},_=()=>{u.toggleFace(),l(5,u)},I=()=>{const p=localStorage.getItem("appWords");p?(navigator.clipboard.writeText(p),l(1,o=!0),setTimeout(()=>{l(1,o=!1)},1e3)):console.log("There is no app data to copy")},A=()=>{const p=localStorage.getItem("appWords");if(p){const F=new Blob([p],{type:"text/plain"}),C=document.createElement("a"),B=URL.createObjectURL(F);C.href=B,C.setAttribute("download","en-vn-wordlist.txt"),C.style.display="none",document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(B)}else console.warn("won't download since there are no words in the list")},M=async()=>{const F=confirm(["This will replace your current word list and can't be reveresed",`

are you sure you wish to continue?`].join());if(d&&d.files&&F){const B=await d.files[0].text(),Z=JSON.parse(B);pt(Z)?(console.log("loaded succefuly"),$t(jt,a=le(),a),l(5,u.deck=[...a],u),u.shuffle()):console.warn("couldn't save to localStorage")}},nt=()=>{if(N){const p=JSON.parse(N);pt(p)?(console.log("loaded succefuly"),l(4,N=""),$t(jt,a=le(),a),l(5,u.deck=[...a],u),u.shuffle()):console.warn("couldn't save to localStorage")}else console.log("no data provided")},st=()=>{if(n==="en"){l(0,n="vn"),u.face==="en"&&u.toggleFace();return}if(n==="vn"){l(0,n="en"),u.face==="vn"&&u.toggleFace();return}};u.shuffle();const ot=()=>v==null?void 0:v.showModal(),Q=()=>_(),D=()=>O(),ut=()=>P(),at=()=>J();function X(p){Zt[p?"unshift":"push"](()=>{d=p,l(2,d)})}function i(){N=this.value,l(4,N)}const Y=()=>v==null?void 0:v.close();function W(p){Zt[p?"unshift":"push"](()=>{v=p,l(3,v)})}return[n,o,d,v,N,u,O,J,P,_,I,A,M,nt,st,ot,Q,D,ut,at,X,i,Y,W]}class Se extends de{constructor(t){super(),he(this,t,Be,xe,re,{})}}export{Se as component};
