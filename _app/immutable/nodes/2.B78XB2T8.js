import{i as Xt,f as Et,s as Yt,r as Zt,c as $t,h as te,j as Vt,b as ee}from"../chunks/scheduler.CEiWNDSI.js";import{S as le,i as se,e as r,s as h,a as Ot,c as a,b as Y,l as y,g as p,d as St,f as L,m as g,h as Z,j as l,n as Wt,o as I,t as jt,q as Ht,u as ne,C as oe,D as re,w as ae,k as Qt}from"../chunks/index.Cgzgb8tx.js";import{W as ce,s as X,a as Jt,w as zt}from"../chunks/stores.CdY1BXcy.js";import{b as Mt}from"../chunks/paths.ET-Wfz1g.js";function ie(i){const t=i-1;return t*t*t+1}function ue(i,{delay:t=0,duration:s=400,easing:c=Xt}={}){const n=+getComputedStyle(i).opacity;return{delay:t,duration:s,easing:c,css:o=>`opacity: ${o*n}`}}function de(i,{delay:t=0,duration:s=400,easing:c=ie,x:n=0,y:o=0,opacity:d=0}={}){const u=getComputedStyle(i),B=+u.opacity,T=u.transform==="none"?"":u.transform,U=B*(1-d),[P,D]=Et(n),[k,A]=Et(o);return{delay:t,duration:s,easing:c,css:(j,C)=>`
			transform: ${T} translate(${(1-j)*P}${D}, ${(1-j)*k}${A});
			opacity: ${B-U*C}`}}function fe(i){let t,s=i[3].deck[i[3].current].vn+"",c;return{c(){t=r("h2"),c=Ot(s)},l(n){t=a(n,"H2",{});var o=Y(t);c=St(o,s),o.forEach(L)},m(n,o){Z(n,t,o),l(t,c)},p(n,o){o&8&&s!==(s=n[3].deck[n[3].current].vn+"")&&Qt(c,s)},d(n){n&&L(t)}}}function he(i){let t,s=i[3].deck[i[3].current].en+"",c;return{c(){t=r("h2"),c=Ot(s)},l(n){t=a(n,"H2",{});var o=Y(t);c=St(o,s),o.forEach(L)},m(n,o){Z(n,t,o),l(t,c)},p(n,o){o&8&&s!==(s=n[3].deck[n[3].current].en+"")&&Qt(c,s)},d(n){n&&L(t)}}}function Gt(i){let t,s="copied data!",c,n,o;return{c(){t=r("p"),t.textContent=s,this.h()},l(d){t=a(d,"P",{class:!0,"data-svelte-h":!0}),y(t)!=="svelte-pt3136"&&(t.textContent=s),this.h()},h(){g(t,"class","copy-message svelte-blzjs0")},m(d,u){Z(d,t,u),o=!0},i(d){o||(d&&te(()=>{o&&(n&&n.end(1),c=oe(t,de,{y:20,opacity:0,duration:600}),c.start())}),o=!0)},o(d){c&&c.invalidate(),d&&(n=re(t,ue,{})),o=!1},d(d){d&&L(t),d&&n&&n.end()}}}function pe(i){let t,s,c="Memorize!",n,o,d,u="Flip",B,T,U,P,D,k,A="Got it",j,C,G="Failed",J,M,f,w,v,m,E="add words",$,tt,et,lt,st,F,Nt="edit words",nt,ot,rt,at,ct,K,z,It="Copy app data",it,ut,dt,ft,O,Lt="Download words",ht,pt,bt,_t,V,Pt="Upload a words list text file:",vt,mt,q,gt,kt,Ct,yt,xt,wt,Bt,R,W,Dt="Paste your list's JSON string:",Rt,S,Tt,N,Ft="Load data",Ut,qt;function At(_,e){return _[3].face==="en"?he:fe}let Q=At(i),x=Q(i),b=i[0]&&Gt();return{c(){t=r("div"),s=r("h1"),s.textContent=c,n=h(),x.c(),o=h(),d=r("button"),d.textContent=u,B=h(),T=r("br"),U=h(),P=r("br"),D=h(),k=r("button"),k.textContent=A,j=h(),C=r("button"),C.textContent=G,J=h(),M=r("br"),f=h(),w=r("br"),v=h(),m=r("a"),m.textContent=E,$=h(),tt=r("br"),et=h(),lt=r("br"),st=h(),F=r("a"),F.textContent=Nt,nt=h(),ot=r("br"),rt=h(),at=r("br"),ct=h(),b&&b.c(),K=h(),z=r("button"),z.textContent=It,it=h(),ut=r("br"),dt=r("br"),ft=h(),O=r("button"),O.textContent=Lt,ht=h(),pt=r("br"),bt=r("br"),_t=h(),V=r("p"),V.textContent=Pt,vt=r("br"),mt=h(),q=r("input"),gt=h(),kt=r("br"),Ct=r("br"),yt=Ot("- or -"),xt=r("br"),wt=r("br"),Bt=h(),R=r("div"),W=r("p"),W.textContent=Dt,Rt=h(),S=r("input"),Tt=h(),N=r("button"),N.textContent=Ft,this.h()},l(_){t=a(_,"DIV",{class:!0});var e=Y(t);s=a(e,"H1",{class:!0,"data-svelte-h":!0}),y(s)!=="svelte-12ck119"&&(s.textContent=c),n=p(e),x.l(e),o=p(e),d=a(e,"BUTTON",{class:!0,"data-svelte-h":!0}),y(d)!=="svelte-s5rnfh"&&(d.textContent=u),B=p(e),T=a(e,"BR",{}),U=p(e),P=a(e,"BR",{}),D=p(e),k=a(e,"BUTTON",{class:!0,"data-svelte-h":!0}),y(k)!=="svelte-1wfeemp"&&(k.textContent=A),j=p(e),C=a(e,"BUTTON",{class:!0,"data-svelte-h":!0}),y(C)!=="svelte-1q7h6b1"&&(C.textContent=G),J=p(e),M=a(e,"BR",{}),f=p(e),w=a(e,"BR",{}),v=p(e),m=a(e,"A",{href:!0,"data-svelte-h":!0}),y(m)!=="svelte-1qqmo79"&&(m.textContent=E),$=p(e),tt=a(e,"BR",{}),et=p(e),lt=a(e,"BR",{}),st=p(e),F=a(e,"A",{href:!0,"data-svelte-h":!0}),y(F)!=="svelte-h7y5xz"&&(F.textContent=Nt),nt=p(e),ot=a(e,"BR",{}),rt=p(e),at=a(e,"BR",{}),ct=p(e),b&&b.l(e),K=p(e),z=a(e,"BUTTON",{class:!0,"data-svelte-h":!0}),y(z)!=="svelte-146v0zo"&&(z.textContent=It),it=p(e),ut=a(e,"BR",{}),dt=a(e,"BR",{}),ft=p(e),O=a(e,"BUTTON",{class:!0,"data-svelte-h":!0}),y(O)!=="svelte-7gjr4x"&&(O.textContent=Lt),ht=p(e),pt=a(e,"BR",{}),bt=a(e,"BR",{}),_t=p(e),V=a(e,"P",{"data-svelte-h":!0}),y(V)!=="svelte-1kwj42k"&&(V.textContent=Pt),vt=a(e,"BR",{}),mt=p(e),q=a(e,"INPUT",{type:!0,accept:!0}),gt=p(e),kt=a(e,"BR",{}),Ct=a(e,"BR",{}),yt=St(e,"- or -"),xt=a(e,"BR",{}),wt=a(e,"BR",{}),Bt=p(e),R=a(e,"DIV",{});var H=Y(R);W=a(H,"P",{"data-svelte-h":!0}),y(W)!=="svelte-1un27g1"&&(W.textContent=Dt),Rt=p(H),S=a(H,"INPUT",{type:!0}),Tt=p(H),N=a(H,"BUTTON",{class:!0,"data-svelte-h":!0}),y(N)!=="svelte-106ahud"&&(N.textContent=Ft),H.forEach(L),e.forEach(L),this.h()},h(){g(s,"class","svelte-blzjs0"),g(d,"class","svelte-blzjs0"),g(k,"class","success svelte-blzjs0"),g(C,"class","failure svelte-blzjs0"),g(m,"href",Mt+"/add"),g(F,"href",Mt+"/edit"),g(z,"class","svelte-blzjs0"),g(O,"class","svelte-blzjs0"),g(q,"type","file"),g(q,"accept",".txt"),g(S,"type","text"),g(N,"class","svelte-blzjs0"),g(t,"class","container svelte-blzjs0")},m(_,e){Z(_,t,e),l(t,s),l(t,n),x.m(t,null),l(t,o),l(t,d),l(t,B),l(t,T),l(t,U),l(t,P),l(t,D),l(t,k),l(t,j),l(t,C),l(t,J),l(t,M),l(t,f),l(t,w),l(t,v),l(t,m),l(t,$),l(t,tt),l(t,et),l(t,lt),l(t,st),l(t,F),l(t,nt),l(t,ot),l(t,rt),l(t,at),l(t,ct),b&&b.m(t,null),l(t,K),l(t,z),l(t,it),l(t,ut),l(t,dt),l(t,ft),l(t,O),l(t,ht),l(t,pt),l(t,bt),l(t,_t),l(t,V),l(t,vt),l(t,mt),l(t,q),i[14](q),l(t,gt),l(t,kt),l(t,Ct),l(t,yt),l(t,xt),l(t,wt),l(t,Bt),l(t,R),l(R,W),l(R,Rt),l(R,S),Wt(S,i[2]),l(R,Tt),l(R,N),Ut||(qt=[I(d,"click",i[11]),I(k,"click",i[12]),I(C,"click",i[13]),I(z,"click",i[7]),I(O,"click",i[8]),I(q,"change",i[9]),I(S,"input",i[15]),I(N,"click",i[10])],Ut=!0)},p(_,[e]){Q===(Q=At(_))&&x?x.p(_,e):(x.d(1),x=Q(_),x&&(x.c(),x.m(t,o))),_[0]?b?e&1&&jt(b,1):(b=Gt(),b.c(),jt(b,1),b.m(t,K)):b&&(ae(),Ht(b,1,1,()=>{b=null}),ne()),e&4&&S.value!==_[2]&&Wt(S,_[2])},i(_){jt(b)},o(_){Ht(b)},d(_){_&&L(t),x.d(),b&&b.d(),i[14](null),Ut=!1,Zt(qt)}}}let Kt="en";function be(i,t,s){let c;$t(i,zt,f=>s(16,c=f));let n=!1,o=null,d="",u={deck:c.length?[...c]:[new ce("empty list","add words")],current:0,face:"en",shuffle(){let f=this.deck.length,w,v;for(;f!==0;)v=Math.floor(Math.random()*f),f--,w=this.deck[f],this.deck[f]=this.deck[v],this.deck[v]=w;this.deck.sort((m,E)=>m.lvl-E.lvl),console.log(this.deck)},next(){this.current<this.deck.length-1?this.current+=1:(this.current=0,this.shuffle())},previous(){this.current>0?this.current-=1:this.current=this.deck.length-1},toggleFace(f="none"){if(f!=="none"){this.face=f;return}if(this.face==="en"){this.face="vn";return}if(this.face==="vn"){this.face="en";return}}};const B=()=>{u.deck[u.current].levelUp(),u.next(),u.toggleFace(Kt),s(3,u),X(c)},T=()=>{u.deck[u.current].reset(),u.next(),u.toggleFace(Kt),s(3,u),X(c)},U=()=>{u.toggleFace(),s(3,u)},P=()=>{const f=localStorage.getItem("appWords");f?(navigator.clipboard.writeText(f),s(0,n=!0),setTimeout(()=>{s(0,n=!1)},1e3)):console.log("There is no app data to copy")},D=()=>{const f=localStorage.getItem("appWords");if(f){const w=new Blob([f],{type:"text/plain"}),v=document.createElement("a"),m=URL.createObjectURL(w);v.href=m,v.setAttribute("download","en-vn-wordlist.txt"),v.style.display="none",document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(m)}else console.warn("won't download since there are no words in the list")},k=async()=>{const w=confirm(["This will replace your current word list and can't be reveresed",`

are you sure you wish to continue?`].join());if(o&&o.files&&w){const m=await o.files[0].text(),E=JSON.parse(m);X(E)?(console.log("loaded succefuly"),Vt(zt,c=Jt(),c),s(3,u.deck=[...c],u),u.shuffle()):console.warn("couldn't save to localStorage")}},A=()=>{const f=JSON.parse(d);X(f)?(console.log("loaded succefuly"),s(2,d=""),Vt(zt,c=Jt(),c),s(3,u.deck=[...c],u),u.shuffle()):console.warn("couldn't save to localStorage")};u.shuffle();const j=()=>U(),C=()=>B(),G=()=>T();function J(f){ee[f?"unshift":"push"](()=>{o=f,s(1,o)})}function M(){d=this.value,s(2,d)}return[n,o,d,u,B,T,U,P,D,k,A,j,C,G,J,M]}class ke extends le{constructor(t){super(),se(this,t,be,pe,Yt,{})}}export{ke as component};
