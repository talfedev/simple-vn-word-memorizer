import{i as de,f as le,s as he,r as pe,c as ve,n as fe,h as _e,d as ne,j as se}from"../chunks/scheduler.BMIAZVXK.js";import{S as be,i as ge,e as a,t as ut,s as _,c as r,a as F,b as ft,d as C,f as b,m as O,n as m,g as J,h as e,o as oe,p as R,j as zt,k as qt,l as ie,r as me,B as ke,C as Ce,v as ye}from"../chunks/index.Bn6_9q_L.js";import{W as we,s as bt,w as Ht,a as ae}from"../chunks/stores.DFfmNaEa.js";import{b as Te}from"../chunks/paths.C00TKNQy.js";function xe(s){const t=s-1;return t*t*t+1}function Be(s,{delay:t=0,duration:l=400,easing:o=de}={}){const n=+getComputedStyle(s).opacity;return{delay:t,duration:l,easing:o,css:i=>`opacity: ${i*n}`}}function Oe(s,{delay:t=0,duration:l=400,easing:o=xe,x:n=0,y:i=0,opacity:h=0}={}){const p=getComputedStyle(s),I=+p.opacity,f=p.transform==="none"?"":p.transform,U=I*(1-h),[Q,j]=le(n),[g,S]=le(i);return{delay:t,duration:l,easing:o,css:(W,X)=>`
			transform: ${f} translate(${(1-W)*Q}${j}, ${(1-W)*g}${S});
			opacity: ${I-U*X}`}}function Ue(s){let t,l=s[5].deck[s[5].current].vn+"",o;return{c(){t=a("h2"),o=ut(l),this.h()},l(n){t=r(n,"H2",{class:!0});var i=F(t);o=ft(i,l),i.forEach(C),this.h()},h(){m(t,"class","word svelte-1vinghi")},m(n,i){J(n,t,i),e(t,o)},p(n,i){i&32&&l!==(l=n[5].deck[n[5].current].vn+"")&&zt(o,l)},d(n){n&&C(t)}}}function Se(s){let t,l=s[5].deck[s[5].current].en+"",o;return{c(){t=a("h2"),o=ut(l),this.h()},l(n){t=r(n,"H2",{class:!0});var i=F(t);o=ft(i,l),i.forEach(C),this.h()},h(){m(t,"class","word svelte-1vinghi")},m(n,i){J(n,t,i),e(t,o)},p(n,i){i&32&&l!==(l=n[5].deck[n[5].current].en+"")&&zt(o,l)},d(n){n&&C(t)}}}function re(s){let t,l="Got it",o,n;return{c(){t=a("button"),t.textContent=l,this.h()},l(i){t=r(i,"BUTTON",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-1e3l3ql"&&(t.textContent=l),this.h()},h(){m(t,"class","control-btn success svelte-1vinghi")},m(i,h){J(i,t,h),o||(n=R(t,"click",s[17]),o=!0)},p:fe,d(i){i&&C(t),o=!1,n()}}}function ce(s){let t,l="Failed",o,n;return{c(){t=a("button"),t.textContent=l,this.h()},l(i){t=r(i,"BUTTON",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-1besi55"&&(t.textContent=l),this.h()},h(){m(t,"class","control-btn failure svelte-1vinghi")},m(i,h){J(i,t,h),o||(n=R(t,"click",s[19]),o=!0)},p:fe,d(i){i&&C(t),o=!1,n()}}}function ue(s){let t,l="copied data!",o,n,i;return{c(){t=a("p"),t.textContent=l,this.h()},l(h){t=r(h,"P",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-12f7als"&&(t.textContent=l),this.h()},h(){m(t,"class","copy-message svelte-1vinghi")},m(h,p){J(h,t,p),i=!0},i(h){i||(h&&_e(()=>{i&&(n&&n.end(1),o=ke(t,Oe,{y:20,opacity:0,duration:600}),o.start())}),i=!0)},o(h){o&&o.invalidate(),h&&(n=Ce(t,Be,{})),i=!1},d(h){h&&C(t),h&&n&&n.end()}}}function Ne(s){let t,l,o,n,i,h,p,I="Save / Load",f,U,Q="Manage words",j,g,S,W,X,Y,ot,it,$,V,dt="Skip",at,tt,c,et,q,ht="Save:",rt,u,k,T="Copy to clipboard",A,E,Z="Download as text file",gt,mt,kt,Ct,lt,Gt="Load:",yt,wt,Tt,nt,Kt="Upload words-list text file:",xt,Bt,Ot,M,Ut,St,Nt,Rt,It,Et,Lt,N,st,Qt="Paste your list's JSON string:",Dt,H,Ft,Vt,Pt,z,Xt="Add data",Jt,G,Yt="Replace data",jt,ct,K,Zt="Close",At,Mt;function $t(d,w){return d[5].face==="en"?Se:Ue}let pt=$t(s),D=pt(s),x=s[5].face!==s[0]&&re(s),B=s[5].face!==s[0]&&ce(s),y=s[1]&&ue();return{c(){t=a("div"),l=a("button"),o=ut("Language: "),n=ut(s[0]),i=_(),h=a("div"),p=a("button"),p.textContent=I,f=_(),U=a("a"),U.textContent=Q,j=_(),g=a("div"),S=a("button"),D.c(),W=_(),X=a("br"),Y=_(),ot=a("br"),it=_(),x&&x.c(),$=_(),V=a("button"),V.textContent=dt,at=_(),B&&B.c(),tt=_(),c=a("dialog"),y&&y.c(),et=_(),q=a("h3"),q.textContent=ht,rt=_(),u=a("div"),k=a("button"),k.textContent=T,A=_(),E=a("button"),E.textContent=Z,gt=_(),mt=a("br"),kt=a("br"),Ct=_(),lt=a("h3"),lt.textContent=Gt,yt=_(),wt=a("br"),Tt=_(),nt=a("p"),nt.textContent=Kt,xt=_(),Bt=a("br"),Ot=_(),M=a("input"),Ut=_(),St=a("br"),Nt=a("br"),Rt=ut("- or -"),It=a("br"),Et=a("br"),Lt=_(),N=a("div"),st=a("p"),st.textContent=Qt,Dt=_(),H=a("input"),Ft=_(),Vt=a("br"),Pt=_(),z=a("button"),z.textContent=Xt,Jt=_(),G=a("button"),G.textContent=Yt,jt=_(),ct=a("div"),K=a("button"),K.textContent=Zt,this.h()},l(d){t=r(d,"DIV",{class:!0});var w=F(t);l=r(w,"BUTTON",{class:!0});var Wt=F(l);o=ft(Wt,"Language: "),n=ft(Wt,s[0]),Wt.forEach(C),i=b(w),h=r(w,"DIV",{});var vt=F(h);p=r(vt,"BUTTON",{class:!0,"data-svelte-h":!0}),O(p)!=="svelte-10ahad2"&&(p.textContent=I),f=b(vt),U=r(vt,"A",{href:!0,class:!0,"data-svelte-h":!0}),O(U)!=="svelte-173cnon"&&(U.textContent=Q),vt.forEach(C),w.forEach(C),j=b(d),g=r(d,"DIV",{class:!0});var L=F(g);S=r(L,"BUTTON",{type:!0,class:!0});var te=F(S);D.l(te),te.forEach(C),W=b(L),X=r(L,"BR",{}),Y=b(L),ot=r(L,"BR",{}),it=b(L),x&&x.l(L),$=b(L),V=r(L,"BUTTON",{class:!0,"data-svelte-h":!0}),O(V)!=="svelte-o2qm31"&&(V.textContent=dt),at=b(L),B&&B.l(L),L.forEach(C),tt=b(d),c=r(d,"DIALOG",{class:!0});var v=F(c);y&&y.l(v),et=b(v),q=r(v,"H3",{"data-svelte-h":!0}),O(q)!=="svelte-1shhqg9"&&(q.textContent=ht),rt=b(v),u=r(v,"DIV",{class:!0});var _t=F(u);k=r(_t,"BUTTON",{class:!0,"data-svelte-h":!0}),O(k)!=="svelte-1dwz792"&&(k.textContent=T),A=b(_t),E=r(_t,"BUTTON",{class:!0,"data-svelte-h":!0}),O(E)!=="svelte-zpw3a9"&&(E.textContent=Z),_t.forEach(C),gt=b(v),mt=r(v,"BR",{}),kt=r(v,"BR",{}),Ct=b(v),lt=r(v,"H3",{"data-svelte-h":!0}),O(lt)!=="svelte-2tkhz4"&&(lt.textContent=Gt),yt=b(v),wt=r(v,"BR",{}),Tt=b(v),nt=r(v,"P",{"data-svelte-h":!0}),O(nt)!=="svelte-1mx1rcy"&&(nt.textContent=Kt),xt=b(v),Bt=r(v,"BR",{}),Ot=b(v),M=r(v,"INPUT",{type:!0,accept:!0}),Ut=b(v),St=r(v,"BR",{}),Nt=r(v,"BR",{}),Rt=ft(v,"- or -"),It=r(v,"BR",{}),Et=r(v,"BR",{}),Lt=b(v),N=r(v,"DIV",{});var P=F(N);st=r(P,"P",{"data-svelte-h":!0}),O(st)!=="svelte-1un27g1"&&(st.textContent=Qt),Dt=b(P),H=r(P,"INPUT",{type:!0}),Ft=b(P),Vt=r(P,"BR",{}),Pt=b(P),z=r(P,"BUTTON",{class:!0,"data-svelte-h":!0}),O(z)!=="svelte-1jkyn9l"&&(z.textContent=Xt),Jt=b(P),G=r(P,"BUTTON",{class:!0,"data-svelte-h":!0}),O(G)!=="svelte-1nf4q1b"&&(G.textContent=Yt),P.forEach(C),jt=b(v),ct=r(v,"DIV",{});var ee=F(ct);K=r(ee,"BUTTON",{class:!0,"data-svelte-h":!0}),O(K)!=="svelte-1i178l4"&&(K.textContent=Zt),ee.forEach(C),v.forEach(C),this.h()},h(){m(l,"class","svelte-1vinghi"),m(p,"class","svelte-1vinghi"),m(U,"href",Te+"/manage-words"),m(U,"class","svelte-1vinghi"),m(t,"class","header svelte-1vinghi"),m(S,"type","button"),m(S,"class","current-word svelte-1vinghi"),m(V,"class","control-btn skip svelte-1vinghi"),m(g,"class","container svelte-1vinghi"),m(k,"class","svelte-1vinghi"),m(E,"class","svelte-1vinghi"),m(u,"class","save-list svelte-1vinghi"),m(M,"type","file"),m(M,"accept",".txt"),m(H,"type","text"),m(z,"class","svelte-1vinghi"),m(G,"class","svelte-1vinghi"),m(K,"class","svelte-1vinghi"),m(c,"class","svelte-1vinghi")},m(d,w){J(d,t,w),e(t,l),e(l,o),e(l,n),e(t,i),e(t,h),e(h,p),e(h,f),e(h,U),J(d,j,w),J(d,g,w),e(g,S),D.m(S,null),e(g,W),e(g,X),e(g,Y),e(g,ot),e(g,it),x&&x.m(g,null),e(g,$),e(g,V),e(g,at),B&&B.m(g,null),J(d,tt,w),J(d,c,w),y&&y.m(c,null),e(c,et),e(c,q),e(c,rt),e(c,u),e(u,k),e(u,A),e(u,E),e(c,gt),e(c,mt),e(c,kt),e(c,Ct),e(c,lt),e(c,yt),e(c,wt),e(c,Tt),e(c,nt),e(c,xt),e(c,Bt),e(c,Ot),e(c,M),s[20](M),e(c,Ut),e(c,St),e(c,Nt),e(c,Rt),e(c,It),e(c,Et),e(c,Lt),e(c,N),e(N,st),e(N,Dt),e(N,H),oe(H,s[4]),e(N,Ft),e(N,Vt),e(N,Pt),e(N,z),e(N,Jt),e(N,G),e(c,jt),e(c,ct),e(ct,K),s[25](c),At||(Mt=[R(l,"click",s[14]),R(p,"click",s[15]),R(S,"click",s[16]),R(V,"click",s[18]),R(k,"click",s[10]),R(E,"click",s[11]),R(M,"change",s[12]),R(H,"input",s[21]),R(z,"click",s[22]),R(G,"click",s[23]),R(K,"click",s[24])],At=!0)},p(d,[w]){w&1&&zt(n,d[0]),pt===(pt=$t(d))&&D?D.p(d,w):(D.d(1),D=pt(d),D&&(D.c(),D.m(S,null))),d[5].face!==d[0]?x?x.p(d,w):(x=re(d),x.c(),x.m(g,$)):x&&(x.d(1),x=null),d[5].face!==d[0]?B?B.p(d,w):(B=ce(d),B.c(),B.m(g,null)):B&&(B.d(1),B=null),d[1]?y?w&2&&qt(y,1):(y=ue(),y.c(),qt(y,1),y.m(c,et)):y&&(ye(),ie(y,1,1,()=>{y=null}),me()),w&16&&H.value!==d[4]&&oe(H,d[4])},i(d){qt(y)},o(d){ie(y)},d(d){d&&(C(t),C(j),C(g),C(tt),C(c)),D.d(),x&&x.d(),B&&B.d(),y&&y.d(),s[20](null),s[25](null),At=!1,pe(Mt)}}}function Re(s,t,l){let o;ve(s,Ht,u=>l(26,o=u));let n="en",i=!1,h=null,p=null,I="",f={deck:o.length?[...o]:[new we("empty list","add words")],current:0,face:n,shuffle(){let u=this.deck.length,k,T;for(;u!==0;)T=Math.floor(Math.random()*u),u--,k=this.deck[u],this.deck[u]=this.deck[T],this.deck[T]=k;this.deck.sort((A,E)=>A.lvl-E.lvl),console.log(this.deck)},next(){this.current<this.deck.length-1?this.current+=1:(this.current=0,this.shuffle())},previous(){this.current>0?this.current-=1:this.current=this.deck.length-1},toggleFace(u="none"){if(u!=="none"){this.face=u;return}if(this.face==="en"){this.face="vn";return}if(this.face==="vn"){this.face="en";return}}};const U=()=>{f.deck[f.current].levelUp(),f.next(),f.toggleFace(n),l(5,f),bt(o)},Q=()=>{f.deck[f.current].reset(),f.next(),f.toggleFace(n),l(5,f),bt(o)},j=()=>{f.next(),f.toggleFace(n),l(5,f)},g=()=>{f.toggleFace(),l(5,f)},S=()=>{const u=localStorage.getItem("appWords");u?(navigator.clipboard.writeText(u),l(1,i=!0),setTimeout(()=>{l(1,i=!1)},1e3)):console.log("There is no app data to copy")},W=()=>{const u=localStorage.getItem("appWords");if(u){const k=new Blob([u],{type:"text/plain"}),T=document.createElement("a"),A=URL.createObjectURL(k);T.href=A,T.setAttribute("download","en-vn-wordlist.txt"),T.style.display="none",document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(A)}else console.warn("won't download since there are no words in the list")},X=async()=>{const u=["This will replace your current word list and can't be reveresed",`

Do you wish to continue?`],k=confirm("Would you like these words to be added to the current list?");let T=k;if(k||(T=confirm(u.join())),h&&h.files&&T){const E=await h.files[0].text();let Z;try{Z=JSON.parse(E)}catch{console.warn("Failed to parse JSON in the file"),alert("Something is wrong with the JSON in the file you provided.");return}k&&(Z=o.concat(Z)),bt(Z)?(console.log("loaded succefuly"),se(Ht,o=ae(),o),l(5,f.deck=[...o],f),f.shuffle(),p==null||p.close()):console.warn("couldn't save to localStorage")}},Y=(u=!0)=>{if(I){let k;try{k=JSON.parse(I)}catch{console.warn("Error trying to parse JSON"),alert("Something wrong with the JSON string you provided");return}u&&(k=o.concat(k)),bt(k)?(console.log("loaded succefuly"),l(4,I=""),se(Ht,o=ae(),o),l(5,f.deck=[...o],f),f.shuffle(),p==null||p.close()):console.warn("couldn't save to localStorage")}else console.log("no data provided")},ot=()=>{if(n==="en"){l(0,n="vn"),f.face==="en"&&f.toggleFace();return}if(n==="vn"){l(0,n="en"),f.face==="vn"&&f.toggleFace();return}};f.shuffle();const it=()=>p==null?void 0:p.showModal(),$=()=>g(),V=()=>U(),dt=()=>j(),at=()=>Q();function tt(u){ne[u?"unshift":"push"](()=>{h=u,l(2,h)})}function c(){I=this.value,l(4,I)}const et=()=>Y(),q=()=>Y(!1),ht=()=>p==null?void 0:p.close();function rt(u){ne[u?"unshift":"push"](()=>{p=u,l(3,p)})}return[n,i,h,p,I,f,U,Q,j,g,S,W,X,Y,ot,it,$,V,dt,at,tt,c,et,q,ht,rt]}class Fe extends be{constructor(t){super(),ge(this,t,Re,Ne,he,{})}}export{Fe as component};
