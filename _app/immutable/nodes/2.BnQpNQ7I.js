import{i as ae,f as $t,s as re,r as ce,c as ie,h as ue,d as te,j as ee}from"../chunks/scheduler.BMIAZVXK.js";import{S as de,i as fe,e as a,t as at,s as v,c as r,a as S,b as rt,d as C,f as _,m as w,n as b,g as G,h as t,o as le,p as I,j as At,k as Pt,l as se,r as he,B as pe,C as ge,v as ve}from"../chunks/index.Bn6_9q_L.js";import{W as _e,s as pt,w as jt,a as ne}from"../chunks/stores.Dkk33Zi1.js";import{b as be}from"../chunks/paths.px8JfURf.js";function me(o){const e=o-1;return e*e*e+1}function ke(o,{delay:e=0,duration:l=400,easing:c=ae}={}){const n=+getComputedStyle(o).opacity;return{delay:e,duration:l,easing:c,css:u=>`opacity: ${u*n}`}}function Ce(o,{delay:e=0,duration:l=400,easing:c=me,x:n=0,y:u=0,opacity:h=0}={}){const g=getComputedStyle(o),U=+g.opacity,i=g.transform==="none"?"":g.transform,T=U*(1-h),[J,D]=$t(n),[m,B]=$t(u);return{delay:e,duration:l,easing:c,css:(V,M)=>`
			transform: ${i} translate(${(1-V)*J}${D}, ${(1-V)*m}${B});
			opacity: ${U-T*M}`}}function ye(o){let e,l=o[5].deck[o[5].current].vn+"",c;return{c(){e=a("h2"),c=at(l),this.h()},l(n){e=r(n,"H2",{class:!0});var u=S(e);c=rt(u,l),u.forEach(C),this.h()},h(){b(e,"class","word svelte-ggz7p8")},m(n,u){G(n,e,u),t(e,c)},p(n,u){u&32&&l!==(l=n[5].deck[n[5].current].vn+"")&&At(c,l)},d(n){n&&C(e)}}}function xe(o){let e,l=o[5].deck[o[5].current].en+"",c;return{c(){e=a("h2"),c=at(l),this.h()},l(n){e=r(n,"H2",{class:!0});var u=S(e);c=rt(u,l),u.forEach(C),this.h()},h(){b(e,"class","word svelte-ggz7p8")},m(n,u){G(n,e,u),t(e,c)},p(n,u){u&32&&l!==(l=n[5].deck[n[5].current].en+"")&&At(c,l)},d(n){n&&C(e)}}}function oe(o){let e,l="copied data!",c,n,u;return{c(){e=a("p"),e.textContent=l,this.h()},l(h){e=r(h,"P",{class:!0,"data-svelte-h":!0}),w(e)!=="svelte-12f7als"&&(e.textContent=l),this.h()},h(){b(e,"class","copy-message svelte-ggz7p8")},m(h,g){G(h,e,g),u=!0},i(h){u||(h&&ue(()=>{u&&(n&&n.end(1),c=pe(e,Ce,{y:20,opacity:0,duration:600}),c.start())}),u=!0)},o(h){c&&c.invalidate(),h&&(n=ge(e,ke,{})),u=!1},d(h){h&&C(e),h&&n&&n.end()}}}function we(o){let e,l,c,n,u,h,g,U="Save / Load",i,T,J="Manage words",D,m,B,V,M,tt,et,lt,L,ct="Got it",st,R,it="Skip",nt,E,ut="Failed",d,s,y,z,Q="Save:",gt,P,j,Wt="Copy to clipboard",vt,A,qt="Download as text file",_t,bt,mt,kt,X,Ht="Load:",Ct,yt,xt,Y,Gt="Upload words-list text file:",wt,Tt,Bt,K,zt,Ut,Ot,It,Nt,St,Lt,F,Z,Jt="Paste your list's JSON string:",Rt,W,Et,q,Mt="Load data",Dt,ot,H,Kt="Close",Ft,Qt;function Xt(p,x){return p[5].face==="en"?xe:ye}let dt=Xt(o),N=dt(o),k=o[1]&&oe();return{c(){e=a("div"),l=a("button"),c=at("Language: "),n=at(o[0]),u=v(),h=a("div"),g=a("button"),g.textContent=U,i=v(),T=a("a"),T.textContent=J,D=v(),m=a("div"),B=a("button"),N.c(),V=v(),M=a("br"),tt=v(),et=a("br"),lt=v(),L=a("button"),L.textContent=ct,st=v(),R=a("button"),R.textContent=it,nt=v(),E=a("button"),E.textContent=ut,d=v(),s=a("dialog"),k&&k.c(),y=v(),z=a("h3"),z.textContent=Q,gt=v(),P=a("div"),j=a("button"),j.textContent=Wt,vt=v(),A=a("button"),A.textContent=qt,_t=v(),bt=a("br"),mt=a("br"),kt=v(),X=a("h3"),X.textContent=Ht,Ct=v(),yt=a("br"),xt=v(),Y=a("p"),Y.textContent=Gt,wt=v(),Tt=a("br"),Bt=v(),K=a("input"),zt=v(),Ut=a("br"),Ot=a("br"),It=at("- or -"),Nt=a("br"),St=a("br"),Lt=v(),F=a("div"),Z=a("p"),Z.textContent=Jt,Rt=v(),W=a("input"),Et=v(),q=a("button"),q.textContent=Mt,Dt=v(),ot=a("div"),H=a("button"),H.textContent=Kt,this.h()},l(p){e=r(p,"DIV",{class:!0});var x=S(e);l=r(x,"BUTTON",{class:!0});var Vt=S(l);c=rt(Vt,"Language: "),n=rt(Vt,o[0]),Vt.forEach(C),u=_(x),h=r(x,"DIV",{});var ft=S(h);g=r(ft,"BUTTON",{class:!0,"data-svelte-h":!0}),w(g)!=="svelte-10ahad2"&&(g.textContent=U),i=_(ft),T=r(ft,"A",{href:!0,class:!0,"data-svelte-h":!0}),w(T)!=="svelte-173cnon"&&(T.textContent=J),ft.forEach(C),x.forEach(C),D=_(p),m=r(p,"DIV",{class:!0});var O=S(m);B=r(O,"BUTTON",{type:!0,class:!0});var Yt=S(B);N.l(Yt),Yt.forEach(C),V=_(O),M=r(O,"BR",{}),tt=_(O),et=r(O,"BR",{}),lt=_(O),L=r(O,"BUTTON",{class:!0,"data-svelte-h":!0}),w(L)!=="svelte-1e3l3ql"&&(L.textContent=ct),st=_(O),R=r(O,"BUTTON",{class:!0,"data-svelte-h":!0}),w(R)!=="svelte-o2qm31"&&(R.textContent=it),nt=_(O),E=r(O,"BUTTON",{class:!0,"data-svelte-h":!0}),w(E)!=="svelte-1besi55"&&(E.textContent=ut),O.forEach(C),d=_(p),s=r(p,"DIALOG",{class:!0});var f=S(s);k&&k.l(f),y=_(f),z=r(f,"H3",{"data-svelte-h":!0}),w(z)!=="svelte-1shhqg9"&&(z.textContent=Q),gt=_(f),P=r(f,"DIV",{class:!0});var ht=S(P);j=r(ht,"BUTTON",{class:!0,"data-svelte-h":!0}),w(j)!=="svelte-1dwz792"&&(j.textContent=Wt),vt=_(ht),A=r(ht,"BUTTON",{class:!0,"data-svelte-h":!0}),w(A)!=="svelte-zpw3a9"&&(A.textContent=qt),ht.forEach(C),_t=_(f),bt=r(f,"BR",{}),mt=r(f,"BR",{}),kt=_(f),X=r(f,"H3",{"data-svelte-h":!0}),w(X)!=="svelte-2tkhz4"&&(X.textContent=Ht),Ct=_(f),yt=r(f,"BR",{}),xt=_(f),Y=r(f,"P",{"data-svelte-h":!0}),w(Y)!=="svelte-1mx1rcy"&&(Y.textContent=Gt),wt=_(f),Tt=r(f,"BR",{}),Bt=_(f),K=r(f,"INPUT",{type:!0,accept:!0}),zt=_(f),Ut=r(f,"BR",{}),Ot=r(f,"BR",{}),It=rt(f,"- or -"),Nt=r(f,"BR",{}),St=r(f,"BR",{}),Lt=_(f),F=r(f,"DIV",{});var $=S(F);Z=r($,"P",{"data-svelte-h":!0}),w(Z)!=="svelte-1un27g1"&&(Z.textContent=Jt),Rt=_($),W=r($,"INPUT",{type:!0}),Et=_($),q=r($,"BUTTON",{class:!0,"data-svelte-h":!0}),w(q)!=="svelte-106ahud"&&(q.textContent=Mt),$.forEach(C),Dt=_(f),ot=r(f,"DIV",{});var Zt=S(ot);H=r(Zt,"BUTTON",{class:!0,"data-svelte-h":!0}),w(H)!=="svelte-1i178l4"&&(H.textContent=Kt),Zt.forEach(C),f.forEach(C),this.h()},h(){b(l,"class","svelte-ggz7p8"),b(g,"class","svelte-ggz7p8"),b(T,"href",be+"/manage-words"),b(T,"class","svelte-ggz7p8"),b(e,"class","header svelte-ggz7p8"),b(B,"type","button"),b(B,"class","current-word svelte-ggz7p8"),b(L,"class","control-btn success svelte-ggz7p8"),b(R,"class","control-btn skip svelte-ggz7p8"),b(E,"class","control-btn failure svelte-ggz7p8"),b(m,"class","container svelte-ggz7p8"),b(j,"class","svelte-ggz7p8"),b(A,"class","svelte-ggz7p8"),b(P,"class","save-list svelte-ggz7p8"),b(K,"type","file"),b(K,"accept",".txt"),b(W,"type","text"),b(q,"class","svelte-ggz7p8"),b(H,"class","svelte-ggz7p8"),b(s,"class","svelte-ggz7p8")},m(p,x){G(p,e,x),t(e,l),t(l,c),t(l,n),t(e,u),t(e,h),t(h,g),t(h,i),t(h,T),G(p,D,x),G(p,m,x),t(m,B),N.m(B,null),t(m,V),t(m,M),t(m,tt),t(m,et),t(m,lt),t(m,L),t(m,st),t(m,R),t(m,nt),t(m,E),G(p,d,x),G(p,s,x),k&&k.m(s,null),t(s,y),t(s,z),t(s,gt),t(s,P),t(P,j),t(P,vt),t(P,A),t(s,_t),t(s,bt),t(s,mt),t(s,kt),t(s,X),t(s,Ct),t(s,yt),t(s,xt),t(s,Y),t(s,wt),t(s,Tt),t(s,Bt),t(s,K),o[20](K),t(s,zt),t(s,Ut),t(s,Ot),t(s,It),t(s,Nt),t(s,St),t(s,Lt),t(s,F),t(F,Z),t(F,Rt),t(F,W),le(W,o[4]),t(F,Et),t(F,q),t(s,Dt),t(s,ot),t(ot,H),o[23](s),Ft||(Qt=[I(l,"click",o[14]),I(g,"click",o[15]),I(B,"click",o[16]),I(L,"click",o[17]),I(R,"click",o[18]),I(E,"click",o[19]),I(j,"click",o[10]),I(A,"click",o[11]),I(K,"change",o[12]),I(W,"input",o[21]),I(q,"click",o[13]),I(H,"click",o[22])],Ft=!0)},p(p,[x]){x&1&&At(n,p[0]),dt===(dt=Xt(p))&&N?N.p(p,x):(N.d(1),N=dt(p),N&&(N.c(),N.m(B,null))),p[1]?k?x&2&&Pt(k,1):(k=oe(),k.c(),Pt(k,1),k.m(s,y)):k&&(ve(),se(k,1,1,()=>{k=null}),he()),x&16&&W.value!==p[4]&&le(W,p[4])},i(p){Pt(k)},o(p){se(k)},d(p){p&&(C(e),C(D),C(m),C(d),C(s)),N.d(),k&&k.d(),o[20](null),o[23](null),Ft=!1,ce(Qt)}}}function Te(o,e,l){let c;ie(o,jt,d=>l(24,c=d));let n="en",u=!1,h=null,g=null,U="",i={deck:c.length?[...c]:[new _e("empty list","add words")],current:0,face:n,shuffle(){let d=this.deck.length,s,y;for(;d!==0;)y=Math.floor(Math.random()*d),d--,s=this.deck[d],this.deck[d]=this.deck[y],this.deck[y]=s;this.deck.sort((z,Q)=>z.lvl-Q.lvl),console.log(this.deck)},next(){this.current<this.deck.length-1?this.current+=1:(this.current=0,this.shuffle())},previous(){this.current>0?this.current-=1:this.current=this.deck.length-1},toggleFace(d="none"){if(d!=="none"){this.face=d;return}if(this.face==="en"){this.face="vn";return}if(this.face==="vn"){this.face="en";return}}};const T=()=>{i.deck[i.current].levelUp(),i.next(),i.toggleFace(n),l(5,i),pt(c)},J=()=>{i.deck[i.current].reset(),i.next(),i.toggleFace(n),l(5,i),pt(c)},D=()=>{i.next(),i.toggleFace(n),l(5,i)},m=()=>{i.toggleFace(),l(5,i)},B=()=>{const d=localStorage.getItem("appWords");d?(navigator.clipboard.writeText(d),l(1,u=!0),setTimeout(()=>{l(1,u=!1)},1e3)):console.log("There is no app data to copy")},V=()=>{const d=localStorage.getItem("appWords");if(d){const s=new Blob([d],{type:"text/plain"}),y=document.createElement("a"),z=URL.createObjectURL(s);y.href=z,y.setAttribute("download","en-vn-wordlist.txt"),y.style.display="none",document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(z)}else console.warn("won't download since there are no words in the list")},M=async()=>{const s=confirm(["This will replace your current word list and can't be reveresed",`

are you sure you wish to continue?`].join());if(h&&h.files&&s){const z=await h.files[0].text(),Q=JSON.parse(z);pt(Q)?(console.log("loaded succefuly"),ee(jt,c=ne(),c),l(5,i.deck=[...c],i),i.shuffle()):console.warn("couldn't save to localStorage")}},tt=()=>{if(U){const d=JSON.parse(U);pt(d)?(console.log("loaded succefuly"),l(4,U=""),ee(jt,c=ne(),c),l(5,i.deck=[...c],i),i.shuffle()):console.warn("couldn't save to localStorage")}else console.log("no data provided")},et=()=>{if(n==="en"){l(0,n="vn"),i.face==="en"&&i.toggleFace();return}if(n==="vn"){l(0,n="en"),i.face==="vn"&&i.toggleFace();return}};i.shuffle();const lt=()=>g==null?void 0:g.showModal(),L=()=>m(),ct=()=>T(),st=()=>D(),R=()=>J();function it(d){te[d?"unshift":"push"](()=>{h=d,l(2,h)})}function nt(){U=this.value,l(4,U)}const E=()=>g==null?void 0:g.close();function ut(d){te[d?"unshift":"push"](()=>{g=d,l(3,g)})}return[n,u,h,g,U,i,T,J,D,m,B,V,M,tt,et,lt,L,ct,st,R,it,nt,E,ut]}class Ie extends de{constructor(e){super(),fe(this,e,Te,we,re,{})}}export{Ie as component};
